
namespace UtilityTest;
internal static partial class Program {
    static void Test__Integer() {
        CONOUT($"\n[Utility.INT]");

        //======================================================================================================================================================
        TEST("abs()", true
            && abs(-2) == 2
            && abs(-1) == 1
            && abs( 0) == 0
            && abs( 1) == 1
            && abs( 2) == 2
        );

        //======================================================================================================================================================
        TEST("clamp()", true
            &&    clamp(-8, -5, -3) == -5    &&    clamp(-8, -2,  3) == -2    &&    clamp(-8,  1,  5) ==  1
            &&    clamp(-7, -5, -3) == -5    &&    clamp(-7, -2,  3) == -2    &&    clamp(-7,  1,  5) ==  1
            &&    clamp(-6, -5, -3) == -5    &&    clamp(-6, -2,  3) == -2    &&    clamp(-6,  1,  5) ==  1
            &&    clamp(-5, -5, -3) == -5    &&    clamp(-5, -2,  3) == -2    &&    clamp(-5,  1,  5) ==  1
            &&    clamp(-4, -5, -3) == -4    &&    clamp(-4, -2,  3) == -2    &&    clamp(-4,  1,  5) ==  1
            &&    clamp(-3, -5, -3) == -3    &&    clamp(-3, -2,  3) == -2    &&    clamp(-3,  1,  5) ==  1
            &&    clamp(-2, -5, -3) == -3    &&    clamp(-2, -2,  3) == -2    &&    clamp(-2,  1,  5) ==  1
            &&    clamp(-1, -5, -3) == -3    &&    clamp(-1, -2,  3) == -1    &&    clamp(-1,  1,  5) ==  1
            &&    clamp( 0, -5, -3) == -3    &&    clamp( 0, -2,  3) ==  0    &&    clamp( 0,  1,  5) ==  1
            &&    clamp( 1, -5, -3) == -3    &&    clamp( 1, -2,  3) ==  1    &&    clamp( 1,  1,  5) ==  1
            &&    clamp( 2, -5, -3) == -3    &&    clamp( 2, -2,  3) ==  2    &&    clamp( 2,  1,  5) ==  2
            &&    clamp( 3, -5, -3) == -3    &&    clamp( 3, -2,  3) ==  3    &&    clamp( 3,  1,  5) ==  3
            &&    clamp( 4, -5, -3) == -3    &&    clamp( 4, -2,  3) ==  3    &&    clamp( 4,  1,  5) ==  4
            &&    clamp( 5, -5, -3) == -3    &&    clamp( 5, -2,  3) ==  3    &&    clamp( 5,  1,  5) ==  5
            &&    clamp( 6, -5, -3) == -3    &&    clamp( 6, -2,  3) ==  3    &&    clamp( 6,  1,  5) ==  5
            &&    clamp( 7, -5, -3) == -3    &&    clamp( 7, -2,  3) ==  3    &&    clamp( 7,  1,  5) ==  5
            &&    clamp( 8, -5, -3) == -3    &&    clamp( 8, -2,  3) ==  3    &&    clamp( 8,  1,  5) ==  5
        );

        TEST("wrap(int, Lower, Upper)", true
            &&    wrap(-8, 0, 4) == 0    &&    wrap(-8, -2, 2) ==  0    &&    wrap(-8, -6, -2) == -4
            &&    wrap(-7, 0, 4) == 1    &&    wrap(-7, -2, 2) ==  1    &&    wrap(-7, -6, -2) == -3
            &&    wrap(-6, 0, 4) == 2    &&    wrap(-6, -2, 2) == -2    &&    wrap(-6, -6, -2) == -6
            &&    wrap(-5, 0, 4) == 3    &&    wrap(-5, -2, 2) == -1    &&    wrap(-5, -6, -2) == -5
            &&    wrap(-4, 0, 4) == 0    &&    wrap(-4, -2, 2) ==  0    &&    wrap(-4, -6, -2) == -4
            &&    wrap(-3, 0, 4) == 1    &&    wrap(-3, -2, 2) ==  1    &&    wrap(-3, -6, -2) == -3
            &&    wrap(-2, 0, 4) == 2    &&    wrap(-2, -2, 2) == -2    &&    wrap(-2, -6, -2) == -6
            &&    wrap(-1, 0, 4) == 3    &&    wrap(-1, -2, 2) == -1    &&    wrap(-1, -6, -2) == -5
            &&    wrap( 0, 0, 4) == 0    &&    wrap( 0, -2, 2) ==  0    &&    wrap( 0, -6, -2) == -4
            &&    wrap( 1, 0, 4) == 1    &&    wrap( 1, -2, 2) ==  1    &&    wrap( 1, -6, -2) == -3
            &&    wrap( 2, 0, 4) == 2    &&    wrap( 2, -2, 2) == -2    &&    wrap( 2, -6, -2) == -6
            &&    wrap( 3, 0, 4) == 3    &&    wrap( 3, -2, 2) == -1    &&    wrap( 3, -6, -2) == -5
            &&    wrap( 4, 0, 4) == 0    &&    wrap( 4, -2, 2) ==  0    &&    wrap( 4, -6, -2) == -4
            &&    wrap( 5, 0, 4) == 1    &&    wrap( 5, -2, 2) ==  1    &&    wrap( 5, -6, -2) == -3
            &&    wrap( 6, 0, 4) == 2    &&    wrap( 6, -2, 2) == -2    &&    wrap( 6, -6, -2) == -6
            &&    wrap( 7, 0, 4) == 3    &&    wrap( 7, -2, 2) == -1    &&    wrap( 7, -6, -2) == -5
            &&    wrap( 8, 0, 4) == 0    &&    wrap( 8, -2, 2) ==  0    &&    wrap( 8, -6, -2) == -4
        );

        TEST("wrap(int, Upper)", true
            &&    wrap(-8, 4) == 0    &&    wrap(-8, 5) == 2
            &&    wrap(-7, 4) == 1    &&    wrap(-7, 5) == 3
            &&    wrap(-6, 4) == 2    &&    wrap(-6, 5) == 4
            &&    wrap(-5, 4) == 3    &&    wrap(-5, 5) == 0
            &&    wrap(-4, 4) == 0    &&    wrap(-4, 5) == 1
            &&    wrap(-3, 4) == 1    &&    wrap(-3, 5) == 2
            &&    wrap(-2, 4) == 2    &&    wrap(-2, 5) == 3
            &&    wrap(-1, 4) == 3    &&    wrap(-1, 5) == 4
            &&    wrap( 0, 4) == 0    &&    wrap( 0, 5) == 0
            &&    wrap( 1, 4) == 1    &&    wrap( 1, 5) == 1
            &&    wrap( 2, 4) == 2    &&    wrap( 2, 5) == 2
            &&    wrap( 3, 4) == 3    &&    wrap( 3, 5) == 3
            &&    wrap( 4, 4) == 0    &&    wrap( 4, 5) == 4
            &&    wrap( 5, 4) == 1    &&    wrap( 5, 5) == 0
            &&    wrap( 6, 4) == 2    &&    wrap( 6, 5) == 1
            &&    wrap( 7, 4) == 3    &&    wrap( 7, 5) == 2
            &&    wrap( 8, 4) == 0    &&    wrap( 8, 5) == 3
        );

        //======================================================================================================================================================
        TEST("min()", true
            && min(-2,  2) == -2
            && min(-1,  1) == -1
            && min(-1, -1) == -1
            && min( 0,  0) ==  0
            && min( 1,  1) ==  1
            && min( 1, -1) == -1
            && min( 2, -2) == -2

            && min(1,2,3) == 1
            && min(3,1,2) == 1
            && min(2,3,1) == 1

            && min(1,2,3,4) == 1
            && min(4,1,2,3) == 1
            && min(3,4,1,2) == 1
            && min(2,3,4,1) == 1
        );

        TEST("max()", true
            && max(-2,  2) ==  2
            && max(-1,  1) ==  1
            && max(-1, -1) == -1
            && max( 0,  0) ==  0
            && max( 1,  1) ==  1
            && max( 1, -1) ==  1
            && max( 2, -2) ==  2

            && max(1,2,3) == 3
            && max(3,1,2) == 3
            && max(2,3,1) == 3

            && max(1,2,3,4) == 4
            && max(4,1,2,3) == 4
            && max(3,4,1,2) == 4
            && max(2,3,4,1) == 4
        );

        //======================================================================================================================================================
        TEST("pow(int, int)", true
            && pow(2,  0) ==             1
            && pow(2,  1) ==             2
            && pow(2,  2) ==             4
            && pow(2,  3) ==             8
            && pow(2,  4) ==            16
            && pow(2,  5) ==            32
            && pow(2,  6) ==            64
            && pow(2,  7) ==           128
            && pow(2,  8) ==           256
            && pow(2,  9) ==           512
            && pow(2, 10) ==         1_024
            && pow(2, 11) ==         2_048
            && pow(2, 12) ==         4_096
            && pow(2, 13) ==         8_192
            && pow(2, 14) ==        16_384
            && pow(2, 15) ==        32_768
            && pow(2, 16) ==        65_536
            && pow(2, 17) ==       131_072
            && pow(2, 18) ==       262_144
            && pow(2, 19) ==       524_288
            && pow(2, 20) ==     1_048_576
            && pow(2, 21) ==     2_097_152
            && pow(2, 22) ==     4_194_304
            && pow(2, 23) ==     8_388_608
            && pow(2, 24) ==    16_777_216
            && pow(2, 25) ==    33_554_432
            && pow(2, 26) ==    67_108_864
            && pow(2, 27) ==   134_217_728
            && pow(2, 28) ==   268_435_456
            && pow(2, 29) ==   536_870_912
            && pow(2, 30) == 1_073_741_824
        );

        #if false
            CONOUT($"""
                pow(2,  0) == {pow(2,  0),11} ==           1
                pow(2,  1) == {pow(2,  1),11} ==           2
                pow(2,  2) == {pow(2,  2),11} ==           4
                pow(2,  3) == {pow(2,  3),11} ==           8
                pow(2,  4) == {pow(2,  4),11} ==          16
                pow(2,  5) == {pow(2,  5),11} ==          32
                pow(2,  6) == {pow(2,  6),11} ==          64
                pow(2,  7) == {pow(2,  7),11} ==         128
                pow(2,  8) == {pow(2,  8),11} ==         256
                pow(2,  9) == {pow(2,  9),11} ==         512
                pow(2, 10) == {pow(2, 10),11} ==        1024
                pow(2, 11) == {pow(2, 11),11} ==        2048
                pow(2, 12) == {pow(2, 12),11} ==        4096
                pow(2, 13) == {pow(2, 13),11} ==        8192
                pow(2, 14) == {pow(2, 14),11} ==       16384
                pow(2, 15) == {pow(2, 15),11} ==       32768
                pow(2, 16) == {pow(2, 16),11} ==       65536
                pow(2, 17) == {pow(2, 17),11} ==      131072
                pow(2, 18) == {pow(2, 18),11} ==      262144
                pow(2, 19) == {pow(2, 19),11} ==      524288
                pow(2, 20) == {pow(2, 20),11} ==     1048576
                pow(2, 21) == {pow(2, 21),11} ==     2097152
                pow(2, 22) == {pow(2, 22),11} ==     4194304
                pow(2, 23) == {pow(2, 23),11} ==     8388608
                pow(2, 24) == {pow(2, 24),11} ==    16777216
                pow(2, 25) == {pow(2, 25),11} ==    33554432
                pow(2, 26) == {pow(2, 26),11} ==    67108864
                pow(2, 27) == {pow(2, 27),11} ==   134217728
                pow(2, 28) == {pow(2, 28),11} ==   268435456
                pow(2, 29) == {pow(2, 29),11} ==   536870912
                pow(2, 30) == {pow(2, 30),11} ==  1073741824

                pow(2, 31) == {pow(2, 31),11} ==  2147483648
                pow(2, 32) == {pow(2, 32),11} ==  4294967296
                pow(2, 33) == {pow(2, 33),11} ==  8589934592
                pow(2, 34) == {pow(2, 34),11} == 17179869184
                pow(2, 35) == {pow(2, 35),11} == 34359738368
                pow(2, 36) == {pow(2, 36),11} == 68719476736
            """);
        #endif


        //======================================================================================================================================================
        TEST("trunk()", true
            && trunk((int)          2147483647, -2) == (int)            47483647
            && trunk((int)          2147483647,  2) == (int)          21474836
            && trunk((long)9223372036854775807, -2) == (long)  23372036854775807
            && trunk((long)9223372036854775807,  2) == (long)92233720368547758
        );

        //======================================================================================================================================================
    }
}

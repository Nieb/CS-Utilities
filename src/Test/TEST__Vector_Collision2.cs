
namespace UtilityTest;
internal static partial class Program {
    static void Test__Vector_Collision2() {
        CONOUT("\n[Utility.VEC -- Collision2]");

        //######################################################################################################################################################
        //######################################################################################################################################################
        TEST("WhichSideOfLine()", true
            && WhichSideOfLine((5.0f,7.0f), (3f,3f), (9f,9f)) >  0f
            && WhichSideOfLine((5.5f,6.5f), (3f,3f), (9f,9f)) >  0f
            && WhichSideOfLine((5.1f,6.1f), (3f,3f), (9f,9f)) >  0f
            && WhichSideOfLine((5.0f,7.0f), (4f,4f), (8f,8f)) >  0f

            && WhichSideOfLine((0f,1f), (0f,0f), (1f,1f)) >  0f
            && WhichSideOfLine((1f,0f), (0f,0f), (1f,1f)) <  0f

            && WhichSideOfLine((6f,6f), (3f,3f), (9f,9f)) == 0f
            && WhichSideOfLine((7f,5f), (3f,3f), (9f,9f)) <  0f
        );
        /*
        CONOUT($"""
        {WhichSideOfLine((5.0f,7.0f), (3f,3f), (9f,9f))}    // 12
        {WhichSideOfLine((5.5f,6.5f), (3f,3f), (9f,9f))}    // 6
        {WhichSideOfLine((5.1f,6.1f), (3f,3f), (9f,9f))}    // 5.999999
        {WhichSideOfLine((5.0f,7.0f), (4f,4f), (8f,8f))}    // 8
        {WhichSideOfLine((  0f,  1f), (0f,0f), (1f,1f))}    // 1
        {WhichSideOfLine((  1f,  0f), (0f,0f), (1f,1f))}    // -1

        {WhichSideOfLine((6f,6f), (3f,3f), (9f,9f))}        // 0

        {WhichSideOfLine((7f,5f), (3f,3f), (9f,9f))}        // -12
        """);
        */

        //######################################################################################################################################################
        //######################################################################################################################################################
        TEST("PointVsRect()", true
            && PointVsRect((1.5f, 0.9f), (1f,1f), (1f,1f)) == false
            && PointVsRect((1.5f, 1.1f), (1f,1f), (1f,1f)) == true
        );

        //------------------------------------------------------------------------------------------------------------------------------------------------------
        TEST("PointVsBounds2()", true
            && PointVsBounds2((1.5f, 0.9f), (1f,1f), (2f,2f)) == false
            && PointVsBounds2((1.5f, 1.1f), (1f,1f), (2f,2f)) == true
        );

        //======================================================================================================================================================
        TEST("PointVsPolygon()", true
            && PointVsPolygon((0, 0.9f), Polygon2(5)) == true
            && PointVsPolygon((0, 1.1f), Polygon2(5)) == false
        );

        //######################################################################################################################################################
        //######################################################################################################################################################
        TEST("CircleVsRect()", true
            && CircleVsRect((2.6f, 2.6f), 1f,    (3.3f, 3.3f), (2f, 2f)) == true
            && CircleVsRect((2.5f, 2.5f), 1f,    (3.3f, 3.3f), (2f, 2f)) == false

            && CircleVsRect((5.0f, 5.0f), 1f,    (3.3f, 3.3f), (1f, 1f)) == true
            && CircleVsRect((5.1f, 5.1f), 1f,    (3.3f, 3.3f), (1f, 1f)) == false
        );

        //######################################################################################################################################################
        //######################################################################################################################################################
        TEST("LineVsRect()", true
            && LineVsRect((0.5f, 1.5f), (1.5f, 1.5f),   (1f, 1f), (1f, 1f)) == true
            && LineVsRect((1.5f, 1.5f), (2.5f, 1.5f),   (1f, 1f), (1f, 1f)) == true

            && LineVsRect((0.5f, 1.5f), (2.5f, 1.5f),   (1f, 1f), (1f, 1f)) == true
            && LineVsRect((1.5f, 0.5f), (1.5f, 2.5f),   (1f, 1f), (1f, 1f)) == true
            && LineVsRect((2.5f, 1.5f), (0.5f, 1.5f),   (1f, 1f), (1f, 1f)) == true
            && LineVsRect((1.5f, 2.5f), (1.5f, 0.5f),   (1f, 1f), (1f, 1f)) == true

            && LineVsRect((0.5f, 1.5f), (1.5f, 2.5f),   (1f, 1f), (1f, 1f)) == true
            && LineVsRect((0.5f, 1.5f), (1.5f, 2.51f),  (1f, 1f), (1f, 1f)) == false
        );
        #if false
            CONOUT($"------------------------------------------------------------------------------------------------------------------------");
            CONOUT($"{LineVsRect((0.5f, 1.5f), (1.5f, 1.5f),   (1f, 1f), (1f, 1f))}");
            CONOUT($"");
            CONOUT($"{LineVsRect((1.5f, 1.5f), (2.5f, 1.5f),   (1f, 1f), (1f, 1f))}");
            CONOUT($"------------------------------------------------------------------------------------------------------------------------");
            CONOUT($"{LineVsRect((0.5f, 1.5f), (2.5f, 1.5f),   (1f, 1f), (1f, 1f))}");
            CONOUT($"------------------------------------------------------------------------------------------------------------------------");
            CONOUT($"{LineVsRect((0.5f, 1.5f), (1.5f, 2.4f),   (1f, 1f), (1f, 1f))}");
            CONOUT($"");
            CONOUT($"{LineVsRect((0.5f, 1.5f), (1.0f, 2.5f),   (1f, 1f), (1f, 1f))}");
            CONOUT($"------------------------------------------------------------------------------------------------------------------------");
        #endif
        /*
        UtilityTest.Program.CONOUT(
            $"""
            LINEvsRECT    La: {La:0.000}    Lb: {Lb:0.000}    Rp: {Rp:0.000}    Rs: {Rs:0.000}
                L0: {L0:0.000}    L1: {L1:0.000}        dAB: {dAB:0.000}
                R0: {R0:0.000}    R1: {R1:0.000}         Rs: {Rs:0.000}

            """
        );
        UtilityTest.Program.CONOUT($"    Areas overlap: {!(L0 >  R1 || L1 <  R0)}");
        UtilityTest.Program.CONOUT($"        Lb inside: {(Lb >= R0 && Lb <= R1)}");
        UtilityTest.Program.CONOUT($"        La inside: {(La >= R0 && La <= R1)}\n");
        UtilityTest.Program.CONOUT($"    dRR: {dRR:0.000}  dRL: {dRL:0.000}    d: {d,6:0.000}  r: {r,6:0.000}  s: {s,6:0.000}    {((r >= 0f && r <= 1f) && (s >= 0f && s <= 1f))}");
        UtilityTest.Program.CONOUT($"    dRR: {dRR:0.000}  dRL: {dRL:0.000}    d: {d,6:0.000}  r: {r,6:0.000}  s: {s,6:0.000}    {((r >= 0f && r <= 1f) && (s >= 0f && s <= 1f))}");
        UtilityTest.Program.CONOUT($"    dRR: {dRR:0.000}  dRL: {dRL:0.000}    d: {d,6:0.000}  r: {r,6:0.000}  s: {s,6:0.000}    {((r >= 0f && r <= 1f) && (s >= 0f && s <= 1f))}");
        UtilityTest.Program.CONOUT($"    dRR: {dRR:0.000}  dRL: {dRL:0.000}    d: {d,6:0.000}  r: {r,6:0.000}  s: {s,6:0.000}    {((r >= 0f && r <= 1f) && (s >= 0f && s <= 1f))}");
        */

        //######################################################################################################################################################
        //######################################################################################################################################################
    }
}
